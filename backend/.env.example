# ============================================
# Backend API 環境變數範例
# ============================================

# ============================================
# 必填項目
# ============================================

# MongoDB（資料持久化）
MONGODB_URL=mongodb://mongodb:27017
MONGODB_DATABASE=refactor_agent

# PostgreSQL（Agent 會話持久化 - 必填！）
POSTGRES_URL=postgresql://langgraph:langgraph_secret@postgres:5432/langgraph

# JWT 認證
# ⚠️ 生產環境務必更換為安全的隨機字串
JWT_SECRET_KEY=your-secret-key-change-in-production-please
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_HOURS=24

# Anthropic API（用於 Claude 系列模型）
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Docker 設定
DOCKER_BASE_IMAGE=refactor-base:latest
DOCKER_NETWORK=refactor-network
DOCKER_VOLUME_PREFIX=/tmp/refactor-workspaces

# ============================================
# 可選項目
# ============================================

# API 設定
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
DEBUG=false

# 容器資源限制（重構專案可能包含前後端，建議給足資源）
CONTAINER_CPU_LIMIT=4.0
CONTAINER_MEMORY_LIMIT=8g

# Git 設定
GIT_CLONE_TIMEOUT=300
GIT_DEPTH=1

# Log 設定
LOG_LEVEL=INFO

# Vertex AI 設定（選用，啟用後可使用 Gemini / DeepSeek / Qwen 等模型）
GCP_PROJECT_ID=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=/app/gcp-credentials.json

# ============================================
# 說明
# ============================================
# 1. POSTGRES_URL 必填 - Agent 需要 PostgreSQL 進行會話持久化
# 2. ANTHROPIC_API_KEY - 啟用 Claude 系列模型
# 3. GCP_PROJECT_ID + GOOGLE_APPLICATION_CREDENTIALS - 啟用 Vertex AI 模型
# 4. 模型選擇由前端 UI 動態傳入，不需要在此設定固定模型
# 5. Docker Compose 使用服務名稱（mongodb, postgres）
