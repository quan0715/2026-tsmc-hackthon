# ============================================
# Backend API 環境變數範例
# ============================================

# ============================================
# API 設定
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
DEBUG=true

# ============================================
# MongoDB 設定
# ============================================
MONGODB_URL=mongodb://mongodb:27017
MONGODB_DATABASE=refactor_agent

# ============================================
# PostgreSQL 設定（LangGraph 持久化）
# ============================================
# 用於保存聊天對話歷史和 Agent 狀態
POSTGRES_URL=postgresql://langgraph:langgraph_secret@postgres:5432/langgraph

# ============================================
# Docker 設定
# ============================================
DOCKER_BASE_IMAGE=refactor-base:latest
DOCKER_NETWORK=refactor-network
DOCKER_VOLUME_PREFIX=/tmp/refactor-workspaces

# 容器資源限制
CONTAINER_CPU_LIMIT=2.0
CONTAINER_MEMORY_LIMIT=2g

# ============================================
# Git 設定
# ============================================
GIT_CLONE_TIMEOUT=300
GIT_DEPTH=1

# ============================================
# Log 設定
# ============================================
LOG_LEVEL=INFO

# ============================================
# JWT 認證設定
# ============================================
JWT_SECRET_KEY=your-secret-key-change-in-production-please
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_HOURS=24

# ============================================
# LLM 設定（容器內 AI Server 使用）
# ============================================
# 重要：ANTHROPIC_API_KEY 會在建立容器時注入到容器內
# 容器內的 AI Server 使用此 API Key 呼叫 Anthropic Claude

# Anthropic API（推薦，目前主要使用）
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# Vertex AI（可選，需要 GCP 認證設定）
# LLM_PROVIDER=vertex
# GCP_PROJECT_ID=your-gcp-project-id
# GCP_LOCATION=us-central1
# VERTEX_AI_MODEL=gemini-2.5-pro
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ============================================
# 說明
# ============================================
# 1. ANTHROPIC_API_KEY 必填：容器建立時會注入到容器環境
# 2. JWT_SECRET_KEY 生產環境務必更換為安全的隨機字串
# 3. DOCKER_VOLUME_PREFIX 是容器工作區的主機路徑
# 4. Docker Compose 環境使用 mongodb:27017（服務名稱）
# 5. 本地開發環境使用 localhost:27017
